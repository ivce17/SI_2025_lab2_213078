# SI_2025_lab2_213078
Ivan Vasileski 213078
![CFG drawio](https://github.com/user-attachments/assets/6bf28e2a-5a0c-41dd-bb37-527cbc4754d8)
На  дијаграмот е прикажан Control Flow Graph (CFG) за функцијата `checkCart`. Секој ромб претставува услов (`if` израз), а секој правоаголник претставува извршна наредба. Овој граф го користиме понатаму за пресметка на цикломатска комплексност и дефинирање на тест случаи.

3.  Цикломатската комплексност е метрика која го мери бројот на независни патеки низ дадена функција. За функцијата `checkCart`, ја пресметуваме цикломатската комплексност користејќи ја следната формула:

M = E − N + 2P

каде што:
- E = број на ребра (стрелки) во Control Flow Graph = 20
- N = број на јазли (услови) = 17
- P = број на поврзани компоненти = 1 (бидејќи имаме само една функција)

 Пресметка:
M = 20 − 17 + 2*1
M = 5
Цикломатската комплексност на функцијата `checkCart` изнесува 5, што значи дека постојат 5 логички независни патеки низ кодот. Ова ни кажува дека се потребни минимум 5 тест случаи за целосно покривање на сите патеки во функцијата.

4. Тест случаи според критериумот Every Statement
Test Case	Влезни податоци	Очекуван резултат
TC1	allItems = nullcardNumber = "1234567890123456"	Фрла Exception: "allItems list can't be null!"
TC2	Еден предмет со name = null	Фрла Exception: "Invalid item!"
TC3	Предмет со цена > 300Попуст = 0Количина = 1	Сума: price * quantity - 30
TC4	Предмет со попуст > 0	Сума: price * (1 - discount) * quantity
TC5	Валиден предмет без попустНевалидна картичка (должина ≠ 16)	Фрла Exception: "Invalid card number!"
TC6	Валиден предмет и картичкано со карактер во бројката	Фрла Exception: "Invalid character in card number!"

Овие тест случаи се дизајнирани за да осигурат дека сите наредби од функцијата се извршуваат:
•	TC1 → if (allItems == null) и throw
•	TC2 → if (item.getName() == null) и throw
•	TC3 → sum -= 30 + sum += price * quantity
•	TC4 → sum += price * (1 - discount) * quantity
•	TC5 → if (cardNumber == null || length ≠ 16) + throw
•	TC6 → if (character not digit) + throw

За да се постигне Every Statement критериумот, потребни се минимум 5 тест случаи, со кои ќе се извршат сите наредби барем еднаш.


5. Тест случаи според критериумот Multiple Condition
Условот `if (item.getPrice() > 300 || item.getDiscount() > 0 || item.getQuantity() > 10)` е составен од три подуслови. За да се задоволи критериумот Multiple Condition, потребно е да се испробаат сите можни комбинации на вредности (True/False) за секој од трите услови. Тоа значи дека се потребни 8 тест случаи.


| Тест | Цена | Попуст | Количина | Очекувано однесување |
|------|------|--------|-----------|------------------------|
| TC1  | 100  | 0.0    | 1         | Не се одзема 30        |
| TC2  | 350  | 0.0    | 1         | Се одзема 30           |
| TC3  | 100  | 0.2    | 1         | Се одзема 30           |
| TC4  | 100  | 0.0    | 15        | Се одзема 30           |
| TC5  | 500  | 0.2    | 15        | Се одзема 30           |
| TC6  | 400  | 0.0    | 20        | Се одзема 30           |
| TC7  | 100  | 0.1    | 20        | Се одзема 30           |
| TC8  | 400  | 0.2    | 1         | Се одзема 30           |



Во табелата се прикажани сите комбинации на A, B и C, заедно со вредностите за цена, попуст и количина. Се тестира дали се активира блокот каде што се одзема 30 од сумата.

6.  Објаснување за unit тестирањето

За unit тестирањето е користена библиотеката JUnit 5. Креирана е класа `SILab2Test` во `src/test/java`, со две тест функции:
- `testEveryStatement()` – ги покрива сите statements според креираните тест случаи
- `testMultipleCondition()` – ги покрива сите комбинации за условот `if (price > 300 || discount > 0 || quantity > 10)`

Секој тест користи `assertEquals` или `assertThrows`, според очекуваниот резултат.  
Тестовите се извршени успешно со `./gradlew test`.

